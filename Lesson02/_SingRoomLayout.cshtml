<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Lesson 2 - SingRoom @ViewData["Title"]</title>

    <!-- style sheets references -->
    <link href="~/lib/bootstrap/css/bootstrap.min.css" rel="stylesheet" />

    <!-- script files references -->
    <script src="~/lib/jquery/jquery.min.js"></script>
    <script src="~/lib/bootstrap/js/bootstrap.min.js"></script>
    <script src="~/lib/jquery/jquery.validate.min.js"></script>
    <script src="~/lib/jquery/jquery.validate.unobtrusive.min.js"></script>

    @RenderSection("ScriptSection", false)
</head>
<body>
    <div class="row">
        <div class="col-2">
            <img src="~/singroom_images/logo.png" style="width:100%" />
            @if (User.Identity.IsAuthenticated)
            {
                <h4 class="text-center text-primary">
                    Welcome @User.Identity.Name
                </h4>
                <h4 class="text-center text-primary">
                    <a asp-controller="SRAccount" asp-action="Logoff" asp-route-returnUrl="SingRoom">Logout</a>
                </h4>
            }
        </div>
        <div class="col-10">
            <div class="row">
                <nav class="navbar navbar-expand-lg col-12" style="background-color:aliceblue" role="navigation">
                    <div>
                        <ul class="nav navbar-nav">
                            <li class="nav-item">
                                <a class="nav-link" asp-controller="SingRoom" asp-action="Index">Home</a>
                            </li>
                            @if (User.Identity.IsAuthenticated)
                            {
                                <li class="nav-item">
                                    <a class="nav-link" asp-controller="SingRoom" asp-action="BookingCreate">Create Booking</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" asp-controller="SingRoom" asp-action="ViewBookingsByPackage">View Bookings By Packages</a>
                                </li>

                                // TODO Lesson02 Task 1c: Verification
                                // Run SingRoom and verify that non admin users
                                // will be redirected to forbidden page when they try to access
                                // the restricted admin-only menu

                                // Restricted admin-only menu are: Sales Summary and Managerial Reports

                                // TODO Lesson02 Task 1d: Add an if construct to ensure
                                // only admin users can access the admin-only menu
                                if (User.IsInRole("Admin"))
                                {
                                    <li class="nav-item">
                                        <a class="nav-link" asp-controller="SingRoom" asp-action="SalesSummary">Sales Summary</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" asp-controller="SingRoom" asp-action="Reports">Reports</a>
                                    </li>
                                    
                                   }


                                // TODO Lesson02 Task 1e: Verification
                                // Run SingRoom and verify that non admin users cannot see
                                // the restricted admin-only menu
                            }
                            <li class="nav-item">
                                <a class="nav-link" asp-controller="SingRoom" asp-action="AboutUs">About Us</a>
                            </li>
                        </ul>
                    </div>
                </nav>
            </div>
            <br/>
            <div class="row">
                <div class="col-10">
                    @RenderBody()
                </div>
                <div class="col-2"></div>
            </div>
        </div>
    </div>

</body>
</html>
<!-- 19047572 Konada Obadiah Nahshon -->