@model IEnumerable<CourseMangement.Models.Course>

@{
    ViewData["Title"] = "Index";
    var wailtinglist = Model.Where(a => a.CourseDate.Date > DateTime.Now.Date);
    var current = Model.Where(a => a.CourseDate.Date == DateTime.Now.Date);
    var previous = Model.Where(a => a.CourseDate.Date < DateTime.Now);
}

<h1>Courses</h1>

<p>
    <a class="btn btn-outline-warning" asp-action="Create">Create New</a>
</p>

<div class="m-4">
    <ul class="nav nav-tabs" id="myTab">
        <li class="nav-item">
            <a href="#home" class="nav-link active" data-bs-toggle="tab">Today</a>
        </li>
        <li class="nav-item">
            <a href="#prev" class="nav-link " data-bs-toggle="tab">Up Coming</a>
        </li>
        <li class="nav-item">
            <a href="#profile" class="nav-link" data-bs-toggle="tab">Previous</a>
        </li>
      
    </ul>
    <div class="tab-content">
        <div class="tab-pane fade show active" id="home" style="padding:10px">
            <table align="center" class="table table-hover table-bordered" id="t1">
                <thead>
                    <tr>
                         <th>
                            Name
                        </th>

                        <th>
                            Fee
                        </th>

                        <th>
                            Date
                        </th>
                        <th>
                            Availability
                        </th>
                        <th>
                            Age Group
                        </th>
                        <th>
                            Category
                        </th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in current)
                    {
                        <tr>
                            <td>
                                @Html.DisplayFor(modelItem => item.Name)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.CourseFee)
                            </td>
 
                            <td>
                                @item.CourseDate.ToString("dd MMM yyyy")
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.Status)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.SuitableAgeGroup)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.CourseCategories.Name)
                            </td>
                            <td>
                                <a asp-action="AssignToUser" class="btn btn-outline-primary" asp-route-id="@item.Id">Participants/Trainers</a>
                                <a asp-action="AssignSurvey" class="btn btn-outline-primary" asp-route-id="@item.Id">Attached Survey</a>
                                <a asp-action="Attendance" class="btn btn-outline-primary" asp-route-id="@item.Id">Attendance</a>
                                <a asp-action="Edit" class="btn btn-outline-warning" asp-route-id="@item.Id">Edit</a>
                                <a asp-action="Details" class="btn btn-outline-warning" asp-route-id="@item.Id">Details</a>
                                <a asp-action="Delete" asp-route-id="@item.Id" class="btn btn-outline-danger">Delete</a>
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
        <div class="tab-pane fade" id="prev" style="padding:10px">
            <table class="table table-hover table-bordered" id="t3">
                <thead>
                    <tr>
                        <th>
                            Name
                        </th>

                        <th>
                            Fee
                        </th>

                        <th>
                            Date
                        </th>
                        <th>
                            Availability
                        </th>
                        <th>
                            Age Group
                        </th>
                        <th>
                            Category
                        </th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in wailtinglist)
                    {
                        <tr>
                            <td>
                                @Html.DisplayFor(modelItem => item.Name)
                            </td>

                            <td>
                                @Html.DisplayFor(modelItem => item.CourseFee)
                            </td>
 
                            <td>
                                @item.CourseDate.ToString("dd MMM yyyy")
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.Status)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.SuitableAgeGroup)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.CourseCategories.Name)
                            </td>
                            <td align="center" valign="middle">
                                <a asp-action="AssignToUser" class="btn btn-outline-primary" asp-route-id="@item.Id">Participants/Trainers</a>
                                <a asp-action="AssignSurvey" class="btn btn-outline-primary" asp-route-id="@item.Id">Attached Survey</a>
                                <a asp-action="Attendance" class="btn btn-outline-primary" asp-route-id="@item.Id">Attendance</a>
                                <a asp-action="Edit" class="btn btn-outline-warning" asp-route-id="@item.Id">Edit</a>
                                <a asp-action="Details" class="btn btn-outline-warning" asp-route-id="@item.Id">Details</a>
                                <a asp-action="Delete" asp-route-id="@item.Id" class="btn btn-outline-danger">Delete</a>
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
        <div class="tab-pane fade" id="profile" style="padding:10px">
            <table class="table table-hover table-bordered" id="t2">
                <thead>
                    <tr>
                         <th>
                            Name
                        </th>

                        <th>
                            Fee
                        </th>

                        <th>
                            Date
                        </th>
                        <th>
                            Availability
                        </th>
                        <th>
                            Age Group
                        </th>
                        <th>
                            Category
                        </th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in previous)
                    {
                        <tr>
                            <td>
                                @Html.DisplayFor(modelItem => item.Name)
                            </td>

                            <td>
                                @Html.DisplayFor(modelItem => item.CourseFee)
                            </td>

                            <td>
                                @item.CourseDate.ToString("dd MMM yyyy")
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.Status)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.SuitableAgeGroup)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.CourseCategories.Name)
                            </td>
                            <td align="center" valign="middle">
                                <a asp-action="AssignToUser" class="btn btn-outline-primary" asp-route-id="@item.Id">Participants/Trainers</a>
                                <a asp-action="AssignSurvey" class="btn btn-outline-primary" asp-route-id="@item.Id">Attached Survey</a>
                                <a asp-action="Attendance" class="btn btn-outline-primary" asp-route-id="@item.Id">Attendance</a>
                                <a asp-action="Edit" class="btn btn-outline-warning" asp-route-id="@item.Id">Edit</a>
                                <a asp-action="Details" class="btn btn-outline-warning" asp-route-id="@item.Id">Details</a>
                                <a asp-action="Delete" asp-route-id="@item.Id" class="btn btn-outline-danger">Delete</a>
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>
</div>



<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>

<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
        crossorigin="anonymous"></script>
